---
title: Atmosphere
description: npmx.dev's role in the Atmosphere
navigation:
  icon: i-lucide-cloudy
---

## Overview

_npmx.dev_ site architecture as it pertains to the ATProtocol (ATProto) ecosystem, the [Atmosphere](https://atproto.com/).

---

## Atmosphere

The Atmosphere is the interconnected web of applications that all run on ATProto. The primary benefits of this integration for _npmx.dev_ are the social features that connect us to the tens of millions of users on the ATProto social graph. Per the docs site:

> The AT Protocol is an open, decentralized network for building social applications.

---

## Architecture

These are the essential components that allow for _npmx.dev_ to exist as an app on the Atmosphere:

1. **Domain** - _npmx.dev_ site
2. **OAuth** - Required for interacting with the Atmosphere
3. **Constellation** - A global atproto backlink index
4. **Lexicons** - Schema definition language
5. **PDS** - Personal Data Server for account hosting
6. **Standard Site Sync** - Synchronizes app data with PDS
7. **Bluesky Social Graph** - Consume Bluesky posts/comments/threads

For more details refer to the official ATProto docs [here](https://atproto.com/guides/the-at-stack).

### Domain

The _npmx.dev_ app is the frontend domain for the site which acts as a third-party browser for the extant [npmjs site](https://www.npmjs.com) but prioritized around high developer experience (DX) and native-like performance. As it concerns the idiomatic Atmosphere stack, it serves as the client entry point and enables user controls for `@npmx.social` profiles.

For more details refer to the official ATProto docs [here](https://atproto.com/guides/the-at-stack#app-views).

### OAuth

Access to any ATProto affiliated entity requires an authenticated web presence which is achieved via OAuth verification. OAuth is strictly necessary to ensure user identities are securely authenticated against their respective PDS without exposing credentials to _npmx.dev_ directly.

> OAuth is the primary mechanism in atproto for clients to make authorized requests to PDS instances.

For more details refer to the official ATProto docs [here](https://atproto.com/specs/oauth).

### Constellation

Constellation serves as the API orchestration layer and backend indexer. It acts as a bridge between _npmx.dev_ specific data structures and the wider ATProto network. Specifically, it indexes backlinks, aggregates app-view data, and manages the caching layer to reduce load on individual PDS instances during high-traffic events.

For more details refer to the official Constellation site [here](https://constellation.microcosm.blue/).

### Lexicons

This is the glue that makes _npmx.dev_ data understandable to other ATProto apps. We utilize custom Lexicons to define the schema for _npmx.dev_ specific record types, such as our social features, package reviews, or documentation comments.

> Lexicon is a schema definition language used to describe atproto records, HTTP endpoints (XRPC), and event stream messages.

For the _npmx.dev_ specific implementation you can see them in the repo [here](https://atproto.com/specs/lexicon) and as they become more fixed we will publish their accompanying schemas.

For more details refer to the official ATProto docs [here](https://atproto.com/specs/lexicon).

### Personal Data Servers (PDS)

The canonical source for a user identity, a PDS instance provides a substrate upon which to host user accounts and provide account management services.

> Personal data servers, or PDSes, are your home in the cloud. They host your data, distribute it, manage your identity, and orchestrate requests to other services to give you your views.

If you’re wanting to migrate to _npmx.dev_’s self-hosted PDS then the primary means is to leverage [PDS MOOver](https://pdsmoover.com/moover/npmx.social), made by the community's own <a href="https://bsky.app/profile/baileytownsend.dev" target="_blank" rel="noopener noreferrer">@baileytownsend.dev</a>. If you need further support migrating then please join the community [Discord](https://chat.npmx.dev) and refer to the `#pds` channel.

For more details refer to the official ATProto docs [here](https://atproto.com/guides/the-at-stack#pds).

### Standard Site Sync

Standard Site Sync acts as a specialized repository synchronization layer that translates changes from the _npmx.dev_ platform, such as when we publish a new blog post in the form of a Markdown file, into valid ATProto records that are then pushed to a user's PDS. It is the mechanism for maintaining state consistency between _npmx.dev_ and our self-hosted PDS, which ensures that content created on _npmx.dev_ lives permanently in the user's data repository.

For more details refer to the official Standard Site [here](https://standard.site).

### Bluesky Social Graph

We actively consume the Bluesky App View to integrate social interactions directly into the user experience. This allows us to utilize those events to display `Posts/Comments/Threads` on our blog posts, add likes to packages, and more. We hope to one day attach relevant articles to packages such as those by the author and see `likes` or `reposts` on technical articles, all without having to leave the _npmx.dev_ environment.

---

## How & Why the Atmosphere

These are the components that allow for _npmx.dev_ to exist as an app on the Atmosphere:

1. **Blog Posts** - Share short and long form thought from the people behind the app
2. **Comments** - Allows people to share their thoughts and feelings
3. **Awareness** - Raises brand awareness
4. **Engagement** - Promotes brand engagement

---

## Resources

Consult these resources for further information:

- **ATProtocol Docs** - [Introduction](https://atproto.com)
- **Constellation Repo** - [readme.md](https://github.com/at-microcosm/microcosm-rs/tree/main/constellation)
- **Bluesky** - [Discover Page](https://bsky.app/)

---
